"use strict";(self["webpackChunkestela_auth"]=self["webpackChunkestela_auth"]||[]).push([[385],{4385:function(t,e,s){s.r(e),s.d(e,{default:function(){return m}});var l=function(){var t=this,e=t._self._c;return e("div",{staticClass:"list_body"},[e("NavMenu"),e("div",{staticClass:"list-container"},[e("h2",{staticClass:"text-2xl text-center w-full font-bold"},[t._v("Cписок учеников")]),e("div",{staticClass:"flex flex-wrap justify-center"},t._l(t.groupedStudents,(function(s,l){return e("div",{key:l,staticClass:"w-full md:w-full lg:w-2/3 xl:w-2/3 p-4"},[e("el-table",{staticClass:"shadow-md rounded",attrs:{data:s}},[e("el-table-column",{attrs:{prop:"classNumber",label:"Класс",width:"120px"}}),e("el-table-column",{attrs:{prop:"fullName",label:"ФИО"}}),t.userCondition?e("el-table-column",{attrs:{width:"120px"},scopedSlots:t._u([{key:"default",fn:function(s){return[e("el-button",{attrs:{type:"danger",size:"small"},on:{click:function(e){return t.deleteStudent(s.row)}}},[t._v("Удалить")])]}}],null,!0)}):t._e()],1)],1)})),0),t.userCondition?e("div",{staticClass:"max-w-md mx-auto p-4 pt-6 pb-8 mb-4 bg-white rounded shadow-md"},[e("h2",{staticClass:"text-lg font-bold mb-4"},[t._v("Добавить нового ученика")]),e("form",[e("div",{staticClass:"flex flex-wrap -mx-3 mb-4"},[e("div",{staticClass:"md:w-1/2 lg:w-full xl:w-full px-3 mb-4 md:mb-0"},[e("label",{staticClass:"block uppercase tracking-wide text-gray-700 text-xs font-bold mb-2",attrs:{for:"full-name"}},[t._v(" ФИО ")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.newStudent.fullName,expression:"newStudent.fullName"}],staticClass:"appearance-none block w-full bg-gray-200 text-gray-700 border border-gray-200 rounded py-3 px-4 leading-tight focus:outline-none focus:bg-white",attrs:{id:"full-name",type:"text",required:""},domProps:{value:t.newStudent.fullName},on:{input:function(e){e.target.composing||t.$set(t.newStudent,"fullName",e.target.value)}}})]),e("div",{staticClass:"w-full md:w-1/2 px-3"},[e("label",{staticClass:"block uppercase tracking-wide text-gray-700 text-xs font-bold mb-2",attrs:{for:"class"}},[t._v(" Класс ")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.newStudent.classNumber,expression:"newStudent.classNumber"}],staticClass:"appearance-none block w-full bg-gray-200 text-gray-700 border border-gray-200 rounded py-3 px-4 leading-tight focus:outline-none focus:bg-white",attrs:{id:"class",type:"text",required:""},domProps:{value:t.newStudent.classNumber},on:{input:function(e){e.target.composing||t.$set(t.newStudent,"classNumber",e.target.value)}}})])]),e("button",{staticClass:"bg-orange-500 hover:bg-orange-700 text-white font-bold py-2 px-4 rounded",attrs:{type:"submit"},on:{click:function(e){return t.addStudent()}}},[t._v(" Добавить ")])])]):t._e()]),e("BottomUi")],1)},a=[],n=(s(4114),s(5479)),u=s(674),r=s(7538),o={name:"list",data(){return{newStudent:{fullName:"",classNumber:"",monday:null,tuesday:null,wednesday:null,thursday:null,friday:null},studets:[]}},components:{NavMenu:u.A,BottomUi:r.A},computed:{userCondition(){return n.M.state.user},lessons(){return n.M.state.lessons},students(){return n.M.state.students},groupedStudents(){const t={};return this.students.forEach((e=>{t[e.classNumber]||(t[e.classNumber]=[]),t[e.classNumber].push(e)})),Object.values(t)}},methods:{addStudent(){try{console.log("Добавлен новый ученик:",this.newStudent),n.M.dispatch("addStudent",this.newStudent),this.$message({type:"success",message:"Запись добавлен!"})}catch(t){this.$message({message:"Ошибка при добавлении записи!",type:"warning"})}},deleteStudent(t){console.log(`Delete student: ${t.fullName}`)}}},d=o,i=s(1656),c=(0,i.A)(d,l,a,!1,null,null,null),m=c.exports}}]);
//# sourceMappingURL=385.cb081e7b.js.map