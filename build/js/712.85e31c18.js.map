{"version":3,"file":"js/712.85e31c18.js","mappings":"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","sources":["webpack://estela_auth/./src/views/EmployView.vue","webpack://estela_auth/src/views/EmployView.vue","webpack://estela_auth/./src/views/EmployView.vue?93dc","webpack://estela_auth/./src/views/EmployView.vue?a67b"],"sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"list_body\"},[_c('NavMenu'),_c('div',{staticClass:\"list-container\"},[_c('h2',{staticClass:\"text-2xl text-center w-full font-bold\"},[_vm._v(\"Список сотрудников\")]),_c('div',{staticClass:\"flex flex-wrap justify-center\"},_vm._l((_vm.groupedEmployees),function(employeeGroup,index){return _c('div',{key:index,staticClass:\"w-full md:w-full lg:w-2/3 xl:w-2/3 p-4\"},[_c('el-table',{staticClass:\"shadow-md rounded\",attrs:{\"data\":employeeGroup}},[_c('el-table-column',{attrs:{\"prop\":\"fullName\",\"label\":\"ФИО\",\"width\":\"200px\"}}),_c('el-table-column',{attrs:{\"prop\":\"position\",\"label\":\"Должность\"}}),_c('el-table-column',{attrs:{\"prop\":\"phoneNumber\",\"label\":\"Номер телефона\"}}),(_vm.userCondition)?_c('el-table-column',{attrs:{\"width\":\"120px\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-button',{attrs:{\"type\":\"danger\",\"size\":\"small\"},on:{\"click\":function($event){return _vm.deleteEmployee(scope.row)}}},[_vm._v(\"Удалить\")])]}}],null,true)}):_vm._e()],1)],1)}),0),(_vm.userCondition)?_c('div',{staticClass:\"max-w-md mx-auto p-4 pt-6 pb-8 mb-4 bg-white rounded shadow-md\"},[_c('h2',{staticClass:\"text-lg font-bold mb-4\"},[_vm._v(\"Добавить нового сотрудника\")]),_c('form',[_c('div',{staticClass:\"flex flex-wrap -mx-3 mb-4\"},[_c('div',{staticClass:\"md:w-1/2 lg:w-full xl:w-full px-3 mb-4 md:mb-0\"},[_c('label',{staticClass:\"block uppercase tracking-wide text-gray-700 text-xs font-bold mb-2\",attrs:{\"for\":\"full-name\"}},[_vm._v(\" ФИО \")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.newEmployee.fullName),expression:\"newEmployee.fullName\"}],staticClass:\"appearance-none block w-full bg-gray-200 text-gray-700 border border-gray-200 rounded py-3 px-4 leading-tight focus:outline-none focus:bg-white\",attrs:{\"id\":\"full-name\",\"type\":\"text\",\"required\":\"\"},domProps:{\"value\":(_vm.newEmployee.fullName)},on:{\"input\":function($event){if($event.target.composing)return;_vm.$set(_vm.newEmployee, \"fullName\", $event.target.value)}}})]),_c('div',{staticClass:\"w-full md:w-1/2 px-3\"},[_c('label',{staticClass:\"block uppercase tracking-wide text-gray-700 text-xs font-bold mb-2\",attrs:{\"for\":\"position\"}},[_vm._v(\" Должность \")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.newEmployee.position),expression:\"newEmployee.position\"}],staticClass:\"appearance-none block w-full bg-gray-200 text-gray-700 border border-gray-200 rounded py-3 px-4 leading-tight focus:outline-none focus:bg-white\",attrs:{\"id\":\"position\",\"type\":\"text\",\"required\":\"\"},domProps:{\"value\":(_vm.newEmployee.position)},on:{\"input\":function($event){if($event.target.composing)return;_vm.$set(_vm.newEmployee, \"position\", $event.target.value)}}})]),_c('div',{staticClass:\"w-full md:w-1/2 px-3\"},[_c('label',{staticClass:\"block uppercase tracking-wide text-gray-700 text-xs font-bold mb-2\",attrs:{\"for\":\"phoneNumber\"}},[_vm._v(\" Номер телефона \")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.newEmployee.phoneNumber),expression:\"newEmployee.phoneNumber\"}],staticClass:\"appearance-none block w-full bg-gray-200 text-gray-700 border border-gray-200 rounded py-3 px-4 leading-tight focus:outline-none focus:bg-white\",attrs:{\"id\":\"phoneNumber\",\"type\":\"text\",\"required\":\"\"},domProps:{\"value\":(_vm.newEmployee.phoneNumber)},on:{\"input\":function($event){if($event.target.composing)return;_vm.$set(_vm.newEmployee, \"phoneNumber\", $event.target.value)}}})])]),_c('button',{staticClass:\"bg-orange-500 hover:bg-orange-700 text-white font-bold py-2 px-4 rounded\",attrs:{\"type\":\"submit\"},on:{\"click\":function($event){$event.preventDefault();return _vm.addEmployee()}}},[_vm._v(\" Добавить \")])])]):_vm._e()]),_c('BottomUi')],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n    <div class=\"list_body\">\r\n        <NavMenu></NavMenu>\r\n        <div class=\"list-container\">\r\n            <h2 class=\"text-2xl text-center w-full font-bold\">Список сотрудников</h2>\r\n            <div class=\"flex flex-wrap justify-center\">\r\n                <div v-for=\"(employeeGroup, index) in groupedEmployees\" :key=\"index\" class=\"w-full md:w-full lg:w-2/3 xl:w-2/3 p-4\">\r\n                    <el-table :data=\"employeeGroup\" class=\"shadow-md rounded\">\r\n                        <el-table-column\r\n                        prop=\"fullName\" \r\n                        label=\"ФИО\"\r\n                        width=\"200px\">\r\n                        </el-table-column>\r\n                        <el-table-column\r\n                        prop=\"position\" \r\n                        label=\"Должность\">\r\n                        </el-table-column>\r\n                        <el-table-column\r\n                        prop=\"phoneNumber\" \r\n                        label=\"Номер телефона\">\r\n                        </el-table-column>\r\n                        <el-table-column width=\"120px\" v-if=\"userCondition\">\r\n                            <template slot-scope=\"scope\">\r\n                                <el-button type=\"danger\" size=\"small\" @click=\"deleteEmployee(scope.row)\">Удалить</el-button>\r\n                            </template>\r\n                        </el-table-column>\r\n                    </el-table>\r\n                </div>\r\n            </div>\r\n\r\n            <div class=\"max-w-md mx-auto p-4 pt-6 pb-8 mb-4 bg-white rounded shadow-md\" v-if=\"userCondition\">\r\n                <h2 class=\"text-lg font-bold mb-4\">Добавить нового сотрудника</h2>\r\n                <form>\r\n                    <div class=\"flex flex-wrap -mx-3 mb-4\">\r\n                        <div class=\" md:w-1/2 lg:w-full xl:w-full px-3 mb-4 md:mb-0\">\r\n                            <label class=\"block uppercase tracking-wide text-gray-700 text-xs font-bold mb-2\" for=\"full-name\">\r\n                                ФИО\r\n                            </label>\r\n                            <input\r\n                                id=\"full-name\"\r\n                                v-model=\"newEmployee.fullName\"\r\n                                type=\"text\"\r\n                                class=\"appearance-none block w-full bg-gray-200 text-gray-700 border border-gray-200 rounded py-3 px-4 leading-tight focus:outline-none focus:bg-white\"\r\n                                required\r\n                            />\r\n                        </div>\r\n                        <div class=\"w-full md:w-1/2 px-3\">\r\n                            <label class=\"block uppercase tracking-wide text-gray-700 text-xs font-bold mb-2\" for=\"position\">\r\n                                Должность\r\n                            </label>\r\n                            <input\r\n                                id=\"position\"\r\n                                v-model=\"newEmployee.position\"\r\n                                type=\"text\"\r\n                                class=\"appearance-none block w-full bg-gray-200 text-gray-700 border border-gray-200 rounded py-3 px-4 leading-tight focus:outline-none focus:bg-white\"\r\n                                required\r\n                            />\r\n                        </div>\r\n                        <div class=\"w-full md:w-1/2 px-3\">\r\n                            <label class=\"block uppercase tracking-wide text-gray-700 text-xs font-bold mb-2\" for=\"phoneNumber\">\r\n                                Номер телефона\r\n                            </label>\r\n                            <input\r\n                                id=\"phoneNumber\"\r\n                                v-model=\"newEmployee.phoneNumber\"\r\n                                type=\"text\"\r\n                                class=\"appearance-none block w-full bg-gray-200 text-gray-700 border border-gray-200 rounded py-3 px-4 leading-tight focus:outline-none focus:bg-white\"\r\n                                required\r\n                            />\r\n                        </div>\r\n                    </div>\r\n                    <button\r\n                        type=\"submit\"\r\n                        class=\"bg-orange-500 hover:bg-orange-700 text-white font-bold py-2 px-4 rounded\"\r\n                        @click.prevent=\"addEmployee()\">\r\n                        Добавить\r\n                    </button>\r\n                </form>\r\n            </div>\r\n\r\n        </div>\r\n\r\n        <BottomUi></BottomUi>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport {store} from '../store/index.js'\r\nimport NavMenu from '@/components/NavMenu.vue';\r\nimport BottomUi from '@/components/BottomUi.vue';\r\n\r\nexport default {\r\n    name: 'employees',\r\n    data() {\r\n        return {\r\n            newEmployee: {\r\n            fullName: '',\r\n            position: '',\r\n            phoneNumber: ''\r\n        },\r\n        // employees: []\r\n        }\r\n    },\r\n    components: {\r\n        NavMenu,\r\n        BottomUi\r\n    },\r\n    computed: {\r\n        userCondition() {\r\n            return store.state.user\r\n        },\r\n        employees() {\r\n            return store.state.employees\r\n        },\r\n        groupedEmployees() {\r\n            const groupedEmploy = {};\r\n            this.employees.forEach(employee => {\r\n                if (!groupedEmploy[employee.position]) {\r\n                    groupedEmploy[employee.position] = [];\r\n                }\r\n                groupedEmploy[employee.position].push(employee);\r\n            });\r\n            return Object.values(groupedEmploy);\r\n        }\r\n    },\r\n    methods: {\r\n        addEmployee() {\r\n            try {\r\n                console.log('Добавлен новый сотрудник:', this.newEmployee)\r\n                store.dispatch('addEmployee', this.newEmployee)\r\n                this.$message({\r\n                    type: 'success',\r\n                    message: 'Сотрудник добавлен!'\r\n                });\r\n            } catch (error) {\r\n                this.$message({\r\n                    message: 'Ошибка при добавлении сотрудника!',\r\n                    type: 'warning'\r\n                });\r\n            }\r\n        },\r\n        deleteEmployee(employee) {\r\n            this.$confirm('Вы действительно хотите удалить сотрудника?', 'Warning', {\r\n            confirmButtonText: 'Да',\r\n            cancelButtonText: 'Нет',\r\n            type: 'warning'\r\n            }).then(() => {\r\n                store.dispatch('removeEmployee', employee.id);\r\n            console.log(`Delete employee: ${employee.fullName}`);\r\n\r\n                this.$message({\r\n                    type: 'success',\r\n                    message: 'Расписание удалено!'\r\n                });\r\n            }).catch(() => {\r\n                this.$message({\r\n                    type: 'info',\r\n                    message: 'Удаление отменено'\r\n                });          \r\n            });\r\n        }\r\n    }\r\n}\r\n</script>\r\n\r\n<style>\r\n* {\r\n    margin: 0;\r\n    padding: 0;\r\n}\r\n\r\n.list_body {\r\n    min-height: 100vh;\r\n    background: url('../assets/fon.png') no-repeat;\r\n    background-size: cover;\r\n    background-position: center;\r\n}\r\n\r\n.list-container {\r\n    min-height: 92vh;\r\n}\r\n</style>","import mod from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./EmployView.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./EmployView.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./EmployView.vue?vue&type=template&id=988c3c8a\"\nimport script from \"./EmployView.vue?vue&type=script&lang=js\"\nexport * from \"./EmployView.vue?vue&type=script&lang=js\"\nimport style0 from \"./EmployView.vue?vue&type=style&index=0&id=988c3c8a&prod&lang=css\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"names":["render","_vm","this","_c","_self","staticClass","_v","_l","groupedEmployees","employeeGroup","index","key","attrs","userCondition","scopedSlots","_u","fn","scope","on","$event","deleteEmployee","row","_e","directives","name","rawName","value","newEmployee","fullName","expression","domProps","target","composing","$set","position","phoneNumber","preventDefault","addEmployee","staticRenderFns","data","components","NavMenu","BottomUi","computed","store","state","user","employees","groupedEmploy","forEach","employee","push","Object","values","methods","console","log","dispatch","$message","type","message","error","$confirm","confirmButtonText","cancelButtonText","then","id","catch","component"],"sourceRoot":""}