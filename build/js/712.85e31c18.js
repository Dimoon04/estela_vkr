"use strict";(self["webpackChunkestela_auth"]=self["webpackChunkestela_auth"]||[]).push([[712],{5712:function(e,t,o){o.r(t),o.d(t,{default:function(){return d}});var l=function(){var e=this,t=e._self._c;return t("div",{staticClass:"list_body"},[t("NavMenu"),t("div",{staticClass:"list-container"},[t("h2",{staticClass:"text-2xl text-center w-full font-bold"},[e._v("Список сотрудников")]),t("div",{staticClass:"flex flex-wrap justify-center"},e._l(e.groupedEmployees,(function(o,l){return t("div",{key:l,staticClass:"w-full md:w-full lg:w-2/3 xl:w-2/3 p-4"},[t("el-table",{staticClass:"shadow-md rounded",attrs:{data:o}},[t("el-table-column",{attrs:{prop:"fullName",label:"ФИО",width:"200px"}}),t("el-table-column",{attrs:{prop:"position",label:"Должность"}}),t("el-table-column",{attrs:{prop:"phoneNumber",label:"Номер телефона"}}),e.userCondition?t("el-table-column",{attrs:{width:"120px"},scopedSlots:e._u([{key:"default",fn:function(o){return[t("el-button",{attrs:{type:"danger",size:"small"},on:{click:function(t){return e.deleteEmployee(o.row)}}},[e._v("Удалить")])]}}],null,!0)}):e._e()],1)],1)})),0),e.userCondition?t("div",{staticClass:"max-w-md mx-auto p-4 pt-6 pb-8 mb-4 bg-white rounded shadow-md"},[t("h2",{staticClass:"text-lg font-bold mb-4"},[e._v("Добавить нового сотрудника")]),t("form",[t("div",{staticClass:"flex flex-wrap -mx-3 mb-4"},[t("div",{staticClass:"md:w-1/2 lg:w-full xl:w-full px-3 mb-4 md:mb-0"},[t("label",{staticClass:"block uppercase tracking-wide text-gray-700 text-xs font-bold mb-2",attrs:{for:"full-name"}},[e._v(" ФИО ")]),t("input",{directives:[{name:"model",rawName:"v-model",value:e.newEmployee.fullName,expression:"newEmployee.fullName"}],staticClass:"appearance-none block w-full bg-gray-200 text-gray-700 border border-gray-200 rounded py-3 px-4 leading-tight focus:outline-none focus:bg-white",attrs:{id:"full-name",type:"text",required:""},domProps:{value:e.newEmployee.fullName},on:{input:function(t){t.target.composing||e.$set(e.newEmployee,"fullName",t.target.value)}}})]),t("div",{staticClass:"w-full md:w-1/2 px-3"},[t("label",{staticClass:"block uppercase tracking-wide text-gray-700 text-xs font-bold mb-2",attrs:{for:"position"}},[e._v(" Должность ")]),t("input",{directives:[{name:"model",rawName:"v-model",value:e.newEmployee.position,expression:"newEmployee.position"}],staticClass:"appearance-none block w-full bg-gray-200 text-gray-700 border border-gray-200 rounded py-3 px-4 leading-tight focus:outline-none focus:bg-white",attrs:{id:"position",type:"text",required:""},domProps:{value:e.newEmployee.position},on:{input:function(t){t.target.composing||e.$set(e.newEmployee,"position",t.target.value)}}})]),t("div",{staticClass:"w-full md:w-1/2 px-3"},[t("label",{staticClass:"block uppercase tracking-wide text-gray-700 text-xs font-bold mb-2",attrs:{for:"phoneNumber"}},[e._v(" Номер телефона ")]),t("input",{directives:[{name:"model",rawName:"v-model",value:e.newEmployee.phoneNumber,expression:"newEmployee.phoneNumber"}],staticClass:"appearance-none block w-full bg-gray-200 text-gray-700 border border-gray-200 rounded py-3 px-4 leading-tight focus:outline-none focus:bg-white",attrs:{id:"phoneNumber",type:"text",required:""},domProps:{value:e.newEmployee.phoneNumber},on:{input:function(t){t.target.composing||e.$set(e.newEmployee,"phoneNumber",t.target.value)}}})])]),t("button",{staticClass:"bg-orange-500 hover:bg-orange-700 text-white font-bold py-2 px-4 rounded",attrs:{type:"submit"},on:{click:function(t){return t.preventDefault(),e.addEmployee()}}},[e._v(" Добавить ")])])]):e._e()]),t("BottomUi")],1)},s=[],a=(o(4114),o(5479)),n=o(674),i=o(7538),r={name:"employees",data(){return{newEmployee:{fullName:"",position:"",phoneNumber:""}}},components:{NavMenu:n.A,BottomUi:i.A},computed:{userCondition(){return a.M.state.user},employees(){return a.M.state.employees},groupedEmployees(){const e={};return this.employees.forEach((t=>{e[t.position]||(e[t.position]=[]),e[t.position].push(t)})),Object.values(e)}},methods:{addEmployee(){try{console.log("Добавлен новый сотрудник:",this.newEmployee),a.M.dispatch("addEmployee",this.newEmployee),this.$message({type:"success",message:"Сотрудник добавлен!"})}catch(e){this.$message({message:"Ошибка при добавлении сотрудника!",type:"warning"})}},deleteEmployee(e){this.$confirm("Вы действительно хотите удалить сотрудника?","Warning",{confirmButtonText:"Да",cancelButtonText:"Нет",type:"warning"}).then((()=>{a.M.dispatch("removeEmployee",e.id),console.log(`Delete employee: ${e.fullName}`),this.$message({type:"success",message:"Расписание удалено!"})})).catch((()=>{this.$message({type:"info",message:"Удаление отменено"})}))}}},p=r,u=o(1656),m=(0,u.A)(p,l,s,!1,null,null,null),d=m.exports}}]);
//# sourceMappingURL=712.85e31c18.js.map